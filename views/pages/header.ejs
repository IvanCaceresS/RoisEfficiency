<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/header.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-bd9fIiLbsqix2JNFBE1r5BjrZU+3GuCVw9eDYKMxxTB2us9XFsYJFC5AkmV2eN+QfFfncc68qEyL6+FuRqJWgg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link href="css/perfil.css" rel="stylesheet" />
</head>
<body>
    <!-- Nueva fila superior con color de fondo -->
    <div class="container-fluid">
        <div class="row barra-principal" style="background-color: #750d37; color: white; padding: 2px; z-index: 10;">
            <div class="col text-center" style="max-width: 100%;">
                Rois Chile <i class="fas fa-glasses"></i> | Envíos a todo Chile <i class="fas fa-shipping-fast"></i> | Entregas en la V región <i class="fas fa-truck"></i> 
            </div>
        </div>
    </div> 

    <nav class="navbar navbar-expand-lg navbar-light sticky-header" style="background-color: whitesmoke; height: 80px;">
        <div class="container-fluid px-4 px-lg-5">
        <a class="nav-link active" aria-current="page" href="/">
            <h1 class="text-start">ÓPTICA <span class="burdeo">R</span><span class="gris">O</span><span class="burdeo">IS</span></h1>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <% if(typeof isLoggedIn === 'undefined' || !isLoggedIn) { %>
            <ul class="navbar-nav ms-auto">
            <li class="nav-item">
                <button class="nav-link btn" onclick="location.href='/login'">
                    <i class="fas fa-user"></i>
                <span class="text" style="color: black;">Iniciar sesión</span>
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link btn" onclick="location.href='/register'">
                    <i class="fas fa-user-plus"></i>
                <span class="text" style="color: black;">Registrarse</span>
                </button>
            </li>
            <li id="ctn-icon-serch">
                <button class="nav-link btn" id="icon-search">
                    <i class="fas fa-search"></i>
                <span class="text" style="color: black;">Búsqueda</span>
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link btn" onclick="location.href='#bottom'">
                    <i class="fas fa-question-circle"></i> 
                <span class="text" style="color: black;">Nosotros</span>
                </button>
            </li>
            </ul>
            <% } else { %>
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <div class="dropdown">
                      <button class="nav-link btn" onclick="toggleDropdown()">
                        <i class="fas fa-user"></i>
                        <span class="text" style="color: black;">Mi cuenta</span>
                      </button>
                      <div id="dropdown-menu" class="dropdown-menu">
                        <div class="menu-item">
                          <i class="fas fa-user-edit"></i>
                          <a href="/profile">Editar perfil</a>
                        </div>
                        <div class="menu-item">
                          <i class="fas fa-receipt"></i>
                          <a href="/orders">Ver pedidos</a>
                        </div>
                      </div>
                    </div>
                  </li>
            <li id="ctn-icon-serch">
                <button class="nav-link btn" id="icon-search">
                    <i class="fas fa-search"></i>
                <span class="text" style="color: black;">Búsqueda</span>
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link btn" onclick="location.href='#bottom'">
                    <i class="fas fa-question-circle"></i> 
                <span class="text" style="color: black;">Nosotros</span>
                </button>
            </li>
            <li class="nav-item" >
                <form action="/logout" method="post"> 
                <button class="nav-link btn">
                    <i class="fas fa-sign-out-alt"></i> 
                <span class="text" style="color: black;">Cerrar sesión</span>
                </button>
            </form>
            </li>
            </ul>
            <% } %>
        </div>
        </div>
    </nav>

    <script>
        function toggleDropdown() {
          var dropdownMenu = document.getElementById('dropdown-menu');
          dropdownMenu.classList.toggle('show');
        }
        
        var dropdownLinks = document.querySelectorAll('#dropdown-menu a');
        dropdownLinks.forEach(function(link) {
          link.addEventListener('click', function() {
            var dropdownMenu = document.getElementById('dropdown-menu');
            dropdownMenu.classList.remove('show');
          });
        });
        </script>

    <script>
        function redirectToProfile() {
            window.location.href = "/profile";
        }
        </script>
    
    <script>
        const scrollToBottom = () => {
            const element = document.getElementById('bottom');
            element.scrollIntoView({ behavior: 'smooth', block: 'end' });
        };
    
        const links = document.querySelectorAll('a[href="#bottom"]');
        links.forEach(link => {
            link.addEventListener('click', (event) => {
                event.preventDefault();
                scrollToBottom();
            });
        });
    </script>
    <script src="js/scripts.js"></script>

</body>
</html>


